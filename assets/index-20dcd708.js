import{ab as de,ac as Y,E as ue,r as C,ad as Oe,a6 as Ee,a4 as He,e as Le,ae as fe,d as M,af as ve,L as he,D as k,R as be,s as $,$ as me,Z as A,ag as O,k as m,o as De,ah as Me,a3 as We,S as G,X as Ze,N as Fe,ai as Ue,J as Ve,p as je,v as Ke,H as Xe,a8 as le}from"./index-acf64cca.js";import{n as qe,s as Je,c as Ye}from"./shared.esm-bundler-d713a4fb.js";import{q as ge,C as Ge,c as W,n as z,m as ye,h as E,D as we,o as Qe,E as Q,G as xe,H as pe,w as p,J as q,j as ee,a as X,K as et,i as ie,M as tt,s as nt,N as se,Q as at,R as ot,S as lt,r as it,u as st}from"./index-d71ac70b.js";import{S as rt,d as ct}from"./AppArouse-0bba81c2.js";function dt(e,a,i){let o,r=0;const t=e.scrollLeft,s=i===0?1:Math.round(i*1e3/16);function c(){de(o)}function v(){e.scrollLeft+=(a-t)/s,++r<s&&(o=Y(v))}return v(),c}function ut(e,a,i,o){let r,t=ge(e);const s=t<a,c=i===0?1:Math.round(i*1e3/16),v=(a-t)/c;function g(){de(r)}function w(){t+=v,(s&&t>a||!s&&t<a)&&(t=a),Ge(e,t),s&&t<a||!s&&t>a?r=Y(w):o&&(r=Y(o))}return w(),g}let ft=0;function Se(){const e=ue(),{name:a="unknown"}=(e==null?void 0:e.type)||{};return`${a}-${++ft}`}function vt(){const e=C([]),a=[];return Oe(()=>{e.value=[]}),[e,o=>(a[o]||(a[o]=r=>{e.value[o]=r}),a[o])]}function Te(e,a){if(!Ee||!window.IntersectionObserver)return;const i=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),o=()=>{e.value&&i.observe(e.value)},r=()=>{e.value&&i.unobserve(e.value)};He(r),Le(r),fe(o)}const[ht,bt]=W("sticky"),mt={zIndex:z,position:ye("top"),container:Object,offsetTop:E(0),offsetBottom:E(0)};var gt=M({name:ht,props:mt,emits:["scroll","change"],setup(e,{emit:a,slots:i}){const o=C(),r=ve(o),t=he({fixed:!1,width:0,height:0,transform:0}),s=C(!1),c=k(()=>we(e.position==="top"?e.offsetTop:e.offsetBottom)),v=k(()=>{if(s.value)return;const{fixed:f,height:T,width:u}=t;if(f)return{width:`${u}px`,height:`${T}px`}}),g=k(()=>{if(!t.fixed||s.value)return;const f=be(Qe(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${c.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),w=f=>a("scroll",{scrollTop:f,isFixed:t.fixed}),I=()=>{if(!o.value||Q(o))return;const{container:f,position:T}=e,u=O(o),S=ge(window);if(t.width=u.width,t.height=u.height,T==="top")if(f){const d=O(f),B=d.bottom-c.value-t.height;t.fixed=c.value>u.top&&d.bottom>0,t.transform=B<0?B:0}else t.fixed=c.value>u.top;else{const{clientHeight:d}=document.documentElement;if(f){const B=O(f),b=d-B.top-c.value-t.height;t.fixed=d-c.value<u.bottom&&d>B.top,t.transform=b<0?-b:0}else t.fixed=d-c.value<u.bottom}w(S)};return $(()=>t.fixed,f=>a("change",f)),me("scroll",I,{target:r,passive:!0}),Te(o,I),$([xe,pe],()=>{!o.value||Q(o)||!t.fixed||(s.value=!0,A(()=>{const f=O(o);t.width=f.width,t.height=f.height,s.value=!1}))}),()=>{var f;return m("div",{ref:o,style:v.value},[m("div",{class:bt({fixed:t.fixed&&!s.value}),style:g.value},[(f=i.default)==null?void 0:f.call(i)])])}}});const yt=p(gt),[wt,re]=W("tabs");var xt=M({name:wt,props:{count:q(Number),inited:Boolean,animated:Boolean,duration:q(z),swipeable:Boolean,lazyRender:Boolean,currentIndex:q(Number)},emits:["change"],setup(e,{emit:a,slots:i}){const o=C(),r=c=>a("change",c),t=()=>{var c;const v=(c=i.default)==null?void 0:c.call(i);return e.animated||e.swipeable?m(rt,{ref:o,loop:!1,class:re("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[v]}):v},s=c=>{const v=o.value;v&&v.state.active!==c&&v.swipeTo(c,{immediate:!e.inited})};return $(()=>e.currentIndex,s),De(()=>{s(e.currentIndex)}),ee({swipeRef:o}),()=>m("div",{class:re("content",{animated:e.animated||e.swipeable})},[t()])}});const[Ce,K]=W("tabs"),St={type:ye("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:E(0),duration:E(.3),animated:Boolean,ellipsis:X,swipeable:Boolean,scrollspy:Boolean,offsetTop:E(0),background:String,lazyRender:X,lineWidth:z,lineHeight:z,beforeChange:Function,swipeThreshold:E(5),titleActiveColor:String,titleInactiveColor:String},Re=Symbol(Ce);var Tt=M({name:Ce,props:St,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:i}){let o,r,t,s,c;const v=C(),g=C(),w=C(),I=C(),f=Se(),T=ve(v),[u,S]=vt(),{children:d,linkChildren:B}=Me(Re),b=he({inited:!1,position:"",lineStyle:{},currentIndex:-1}),H=k(()=>d.length>+e.swipeThreshold||!e.ellipsis||e.shrink),Z=k(()=>({borderColor:e.color,background:e.background})),L=(n,l)=>{var h;return(h=n.name)!=null?h:l},F=k(()=>{const n=d[b.currentIndex];if(n)return L(n,b.currentIndex)}),N=k(()=>we(e.offsetTop)),te=k(()=>e.sticky?N.value+o:0),D=n=>{const l=g.value,h=u.value;if(!H.value||!l||!h||!h[b.currentIndex])return;const x=h[b.currentIndex].$el,y=x.offsetLeft-(l.offsetWidth-x.offsetWidth)/2;s&&s(),s=dt(l,y,n?0:+e.duration)},_=()=>{const n=b.inited;A(()=>{const l=u.value;if(!l||!l[b.currentIndex]||e.type!=="line"||Q(v.value))return;const h=l[b.currentIndex].$el,{lineWidth:x,lineHeight:y}=e,R=h.offsetLeft+h.offsetWidth/2,P={width:ie(x),backgroundColor:e.color,transform:`translateX(${R}px) translateX(-50%)`};if(n&&(P.transitionDuration=`${e.duration}s`),G(y)){const j=ie(y);P.height=j,P.borderRadius=j}b.lineStyle=P})},ke=n=>{const l=n<b.currentIndex?-1:1;for(;n>=0&&n<d.length;){if(!d[n].disabled)return n;n+=l}},U=(n,l)=>{const h=ke(n);if(!G(h))return;const x=d[h],y=L(x,h),R=b.currentIndex!==null;b.currentIndex!==h&&(b.currentIndex=h,l||D(),_()),y!==e.active&&(a("update:active",y),R&&a("change",y,x.title)),t&&!e.scrollspy&&nt(Math.ceil(se(v.value)-N.value))},V=(n,l)=>{const h=d.find((y,R)=>L(y,R)===n),x=h?d.indexOf(h):0;U(x,l)},ne=(n=!1)=>{if(e.scrollspy){const l=d[b.currentIndex].$el;if(l&&T.value){const h=se(l,T.value)-te.value;r=!0,c&&c(),c=ut(T.value,h,n?0:+e.duration,()=>{r=!1})}}},Ie=(n,l,h)=>{const{title:x,disabled:y}=d[l],R=L(d[l],l);y||(at(e.beforeChange,{args:[R],done:()=>{U(l),ne()}}),ot(n)),a("clickTab",{name:R,title:x,event:h,disabled:y})},Be=n=>{t=n.isFixed,a("scroll",n)},$e=n=>{A(()=>{V(n),ne(!0)})},_e=()=>{for(let n=0;n<d.length;n++){const{top:l}=O(d[n].$el);if(l>te.value)return n===0?0:n-1}return d.length-1},Pe=()=>{if(e.scrollspy&&!r){const n=_e();U(n)}},Ae=()=>{if(e.type==="line"&&d.length)return m("div",{class:K("line"),style:b.lineStyle},null)},ae=()=>{var n,l,h;const{type:x,border:y,sticky:R}=e,P=[m("div",{ref:R?void 0:w,class:[K("wrap"),{[tt]:x==="line"&&y}]},[m("div",{ref:g,role:"tablist",class:K("nav",[x,{shrink:e.shrink,complete:H.value}]),style:Z.value,"aria-orientation":"horizontal"},[(n=i["nav-left"])==null?void 0:n.call(i),d.map(j=>j.renderTitle(Ie)),Ae(),(l=i["nav-right"])==null?void 0:l.call(i)])]),(h=i["nav-bottom"])==null?void 0:h.call(i)];return R?m("div",{ref:w},[P]):P},oe=()=>{_(),A(()=>{var n,l;D(!0),(l=(n=I.value)==null?void 0:n.swipeRef.value)==null||l.resize()})};$(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),$(xe,oe),$(()=>e.active,n=>{n!==F.value&&V(n)}),$(()=>d.length,()=>{b.inited&&(V(e.active),_(),A(()=>{D(!0)}))});const ze=()=>{V(e.active,!0),A(()=>{b.inited=!0,w.value&&(o=O(w.value).height),D(!0)})},Ne=(n,l)=>a("rendered",n,l);return ee({resize:oe,scrollTo:$e}),We(_),et(_),fe(ze),Te(v,_),me("scroll",Pe,{target:T,passive:!0}),B({id:f,props:e,setLine:_,scrollable:H,onRendered:Ne,currentName:F,setTitleRefs:S,scrollIntoView:D}),()=>m("div",{ref:v,class:K([e.type])},[e.sticky?m(yt,{container:v.value,offsetTop:N.value,onScroll:Be},{default:()=>[ae()]}):ae(),m(xt,{ref:I,count:d.length,inited:b.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:b.currentIndex,onChange:U},{default:()=>{var n;return[(n=i.default)==null?void 0:n.call(i)]}})])}});const Ct=Symbol(),[Rt,ce]=W("tab"),kt=M({name:Rt,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:z,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:X},setup(e,{slots:a}){const i=k(()=>{const r={},{type:t,color:s,disabled:c,isActive:v,activeColor:g,inactiveColor:w}=e;s&&t==="card"&&(r.borderColor=s,c||(v?r.backgroundColor=s:r.color=s));const f=v?g:w;return f&&(r.color=f),r}),o=()=>{const r=m("span",{class:ce("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||G(e.badge)&&e.badge!==""?m(lt,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>m("div",{id:e.id,role:"tab",class:[ce([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:i.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[o()])}}),[It,J]=W("tab"),Bt=be({},it,{dot:Boolean,name:z,badge:z,title:String,disabled:Boolean,titleClass:st,titleStyle:[String,Object],showZeroBadge:X});var $t=M({name:It,props:Bt,setup(e,{slots:a}){const i=Se(),o=C(!1),r=ue(),{parent:t,index:s}=Ze(Re);if(!t)return;const c=()=>{var u;return(u=e.name)!=null?u:s.value},v=()=>{o.value=!0,t.props.lazyRender&&A(()=>{t.onRendered(c(),e.title)})},g=k(()=>{const u=c()===t.currentName.value;return u&&!o.value&&v(),u}),w=C(""),I=C("");Fe(()=>{const{titleClass:u,titleStyle:S}=e;w.value=u?qe(u):"",I.value=S&&typeof S!="string"?Je(Ye(S)):S});const f=u=>m(kt,Xe({key:i,id:`${t.id}-${s.value}`,ref:t.setTitleRefs(s.value),style:I.value,class:w.value,isActive:g.value,controls:i,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:S=>u(r.proxy,s.value,S)},le(t.props,["type","color","shrink"]),le(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),T=C(!g.value);return $(g,u=>{u?T.value=!1:Ue(()=>{T.value=!0})}),$(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),Ve(Ct,g),ee({id:i,renderTitle:f}),()=>{var u;const S=`${t.id}-${s.value}`,{animated:d,swipeable:B,scrollspy:b,lazyRender:H}=t.props;if(!a.default&&!d)return;const Z=b||g.value;if(d||B)return m(ct,{id:i,role:"tabpanel",class:J("panel-wrapper",{inactive:T.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":S},{default:()=>{var N;return[m("div",{class:J("panel")},[(N=a.default)==null?void 0:N.call(a)])]}});const F=o.value||b||!H?(u=a.default)==null?void 0:u.call(a):null;return je(m("div",{id:i,role:"tabpanel",class:J("panel"),tabindex:Z?0:-1,"aria-labelledby":S},[F]),[[Ke,Z]])}}});const Nt=p($t),Ot=p(Tt);export{Ot as T,Nt as a,Se as u};
